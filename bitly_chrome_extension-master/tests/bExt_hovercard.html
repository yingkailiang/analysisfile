<!DOCTYPE HTML>
<html>

<!--
    http://unlicense.org/
    author: gregory tomlinson
-->

<!-- MIME TYPE Guidlines and references: http://hixie.ch/advocacy/xhtml -->
    <head>
        <title>bExt Hovercard</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="awesome" />
        <meta name="description" content="" />
        <link rel="stylesheet" href="qunit/qunit.css" type="text/css" />
        <script type="text/javascript" src="qunit/qunit.js"></script>
        <script type="text/javascript" src="../src/js/bitly_oauth_credentials.js"></script>
        <script type="text/javascript" src="../src/js/sqldb-v1.0.js"></script>
        <script type="text/javascript" src="../src/js/bitlyapi-v3.0.js"></script>
        <script type="text/javascript" src="../src/js/bExt/bExt.js"></script>
        <script type="text/javascript" src="../src/js/bExt/bExt.hovercard.js"></script>
        <script type="text/javascript" charset="utf-8">
            /*
                TEST
                    -- bExt.hovercard  
            
            */            
            test('start api and db instance', function() {
                // setup for tests
                bExt.info.clear("user_data", "remove any residual localstore");
                
                ok(!bExt.init_api(), "start bitly api instance w/o credentials");
                ok(bExt.init_db(), "start bitly sql storage instance");                
            });
            
            test('test setting user credentials for bitly api', function() {
                var user_creds={ 
                    "x_login":"gtdev",
                    "x_apiKey":"R_d3aea0669127aad90dfc711955da6d00",
                    "access_token":"91c9e6336e3081da5ca00b78f2c1cfd94594b7f0"
                }
                ok(bExt.info.set("user_data", user_creds), "start bitly sql storage instance");
                ok(bExt.init_api(), "start bitly api instance w/ credentials");
            });   
            
            
            
            
            test('hovercard methods', 2, function() {
                //todo
                // add test for hovercard expand short urls
                // ... scrape some tweets??
                // bExt.hovercard
                ok(bExt.hovercard.blacklist(), "blacklist of no expand hosts");
                ok(bExt.hovercard.get_domains(function(data) {
                    console.log(data, "data get_domains")
                }))
                // same( {}, {}, 'passes, objects have the same content');
            });
        </script>
    </head>
    <body>
        <h1 id="qunit-header">QUnit Test Suite</h1>
        <p>bitly Ext Hovercard</p>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
    </body>
</html>
