window.bgPage=chrome.extension.getBackgroundPage();window.log=function(a){console.log(a);bgPage.log(a)};var cmcmultihighlighter_com_bg={DOMMsgNamespace:"cmcMultiHighlighter".toLowerCase(),activeClients:{},connectHandler:function(b){if(b&&b.name==cmcmultihighlighter_com_bg.DOMMsgNamespace){b.onMessage.addListener(cmcmultihighlighter_com_bg.messageHandler);b.onDisconnect.addListener(function(){delete cmcmultihighlighter_com_bg.activeClients[b.sender.tab.id]});var a={port:b,tabID:b.sender.tab.id};cmcmultihighlighter_com_bg.activeClients[b.sender.tab.id]=a}},messageHandler:function(a){},sendMessage:function(b,c){if(!(c.DOMMsgNamespace)){c.DOMMsgNamespace=cmcmultihighlighter_com_bg.DOMMsgNamespace}var a={port:{name:b.port.name,portId_:b.port.portId_,sender:b.port.sender},tabID:b.tabID};if(!(c.client)){c.client=a}b.port.postMessage(c)}};chrome.extension.onConnect.addListener(cmcmultihighlighter_com_bg.connectHandler);chrome.browserAction.onClicked.addListener(function(c){var a=cmcmultihighlighter_com_bg.activeClients[c.id];var b={request:"toggleMultiHighlighter"};cmcmultihighlighter_com_bg.sendMessage(a,b)});