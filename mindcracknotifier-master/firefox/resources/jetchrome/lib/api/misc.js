"use strict";const xulApp=require("api-utils/xul-app");const HAS_ADDEVENTLISTERNER_BUG_FIXED=xulApp.versionInRange(xulApp.platformVersion,"15","*");function addEventListenerFactory(a){return function(d,c,b){return a.call(this,d,c,b==true)}}exports.inject=function(c,b,a){a.__defineGetter__("history",function(){return{0:"about:blank",1:a.location.href,current:a.location.href,length:2,next:"about:blank",state:null,previous:"about:blank",back:function(){},forward:function(){},go:function(){},item:function(){return null},pushState:function(){},replaceState:function(){}}});a.Element.prototype.__defineGetter__("innerText",function(){return this.textContent});a.Element.prototype.__defineSetter__("innerText",function(d){this.textContent=d});if(!HAS_ADDEVENTLISTERNER_BUG_FIXED){["","Anchor","Audio","Button","Canvas","Div","Span","Image","Frame","Table","TableCol","TableRow","Embed","Form","Html","Head","Heading","Input","Label","Menu","Object","Paragraph","Script","Style","Select","Option"].forEach(function(d){var e=["HTML",d,"Element"].join("");a[e].prototype.addEventListener=addEventListenerFactory(a[e].prototype.addEventListener);a[e].prototype.removeEventListener=addEventListenerFactory(a[e].prototype.removeEventListener)});a.document.addEventListener=addEventListenerFactory(a.document.addEventListener);a.window.addEventListener=addEventListenerFactory(a.window.addEventListener);a.document.removeEventListener=addEventListenerFactory(a.document.removeEventListener);a.window.removeEventListener=addEventListenerFactory(a.window.removeEventListener)}};