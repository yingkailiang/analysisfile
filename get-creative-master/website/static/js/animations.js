// Generated by CoffeeScript 1.4.0
(function() {

  window.animations = {
    give_like: function(like_button) {
      var clone;
      clone = like_button.clone();
      clone.insertAfter(like_button);
      animations.animate_like_button(clone);
      return animations.bonus_text(clone);
    },
    animate_like_button: function(like_button, duration) {
      var DURATION, SIZE_CHANGE, pos_path, position;
      DURATION = 650;
      SIZE_CHANGE = 10;
      position = like_button.position();
      pos_path = new $.path.bezier({
        start: {
          x: position.left,
          y: position.top,
          angle: 145,
          length: 45
        },
        end: {
          x: position.left - 1,
          y: position.top - 1,
          angle: -45,
          length: 45
        }
      });
      like_button.animate({
        path: pos_path
      }, {
        duration: DURATION,
        queue: false,
        easing: "easeInOutQuad",
        complete: function() {
          return $(this).remove();
        }
      }).animate({
        width: "+=" + SIZE_CHANGE,
        height: "+=" + SIZE_CHANGE
      }, {
        duration: DURATION / 3
      }).animate({
        width: "-=" + SIZE_CHANGE,
        height: "-=" + SIZE_CHANGE
      }, {
        duration: DURATION / 3
      }).animate({
        width: "-=" + SIZE_CHANGE,
        height: "-=" + SIZE_CHANGE
      }, {
        duration: DURATION / 3
      });
      return setTimeout(function() {
        return like_button.css("zIndex", "-1");
      }, DURATION / 2);
    },
    bonus_text: function(like_button) {
      var bonus, position;
      position = like_button.position();
      bonus = $('<span class="bonus_text">+1</span>');
      bonus.css({
        position: "absolute",
        left: position.left + 30,
        top: position.top + 15
      });
      return setTimeout(function() {
        bonus.insertAfter(like_button);
        return bonus.animate({
          top: "-=40",
          opacity: 0
        }, {
          duration: 500,
          easing: "linear"
        });
      }, 450);
    }
  };

}).call(this);
